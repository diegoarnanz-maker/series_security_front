<app-user-navbar/>

<div class="max-w-4xl mx-auto p-6 bg-white shadow-lg rounded-lg mt-6">
  <h1 class="text-3xl font-bold text-primary text-center">Mi Perfil</h1>

  @if (loading) {
    <p class="text-center text-gray-500">Cargando perfil...</p>
  } @else if (errorMessage) {
    <p class="text-center text-red-500">{{ errorMessage }}</p>
  } @else {
    <div class="mt-6 p-6">
      <h2 class="text-2xl font-semibold text-center text-primary mb-4">
        {{ getGreeting() }}, {{ user.username }}! 👋
      </h2>
    
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div class="flex items-center p-4 rounded-lg">
          <span class="text-3xl text-gray-600">👤</span>
          <p class="ml-3"><strong>Usuario:</strong> {{ user.username }}</p>
        </div>
    
        <div class="flex items-center p-4 rounded-lg">
          <span class="text-3xl text-gray-600">📧</span>
          <p class="ml-3"><strong>Email:</strong> {{ user.email }}</p>
        </div>
    
        <div class="flex items-center p-4 rounded-lg col-span-2">
          <span class="text-3xl text-gray-600">🔑</span>
          <p class="ml-3"><strong>Rol:</strong> {{ user.roles.join(', ') }}</p>
        </div>
      </div>
    </div>
    
    <div class="mt-6 flex justify-between">
      <!-- <button class="bg-primary text-white px-4 py-2 rounded shadow-md hover:bg-secondary transition">
        ✏️ Editar Perfil
      </button> -->

      <button
      (click)="logout()"
      class="bg-red-500 text-white px-4 py-2 rounded shadow-md hover:bg-red-700 transition">
        🚪 Cerrar Sesión
      </button>
    </div>
  }
</div>
